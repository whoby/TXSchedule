# 更新日志

## [2.6.5] - 2018-11-16

* 更新or插入任务时检查定时规则是否正确

## [2.6.0] - 2018-07-26

* BUGFIX 2.5.0时添加提示时将添加任务的数据校验代码遗漏
* 优化 监控小助手的小任务并发执行，降低耗时
* 优化 监控小助手 加锁，当上一次执行尚未退出，则直接跳过，并发送告警~ 以避免瞬间数十条告警并发

## [2.5.0] - 2018-07-26

* BUGFIX 记录页退出码过滤失效(2.4.0修改导致)
* ADD 新增detached参数，用于控制任务运行进程独立父进程，批跑框架异常退出，任务也可以继续执行
* 优化各个参数的提示 与 子进程异常退出的告警文案优化

## [2.4.0] - 2018-07-26

* bugfix 记录查询页面时间范围选择器，默认是指定00：00：00，将第二个日期的时间改为23：59：59
* 严格限制下载文件接口，只能下载任务目录下的logs与history下文件，避免用户通过该接口获取任意文件的行为

## [2.3.0] - 2018-07-18

* BUGFIX 子进程调用时无法衍生， 及环境变量中无php环境，因此无法拉起。增加监听`error`事件(此BUG会导致批跑框架退出！)

## [2.2.0] - 2018-07-09

* BUGFIX 修复任务告警时间未同步到 t_task_exec_list 表中

## [2.1.1] - 2018-07-04

* 优化告警显示

## [2.0.9] - 2018-06-29

* 优化告警文案显示 任务级别告警格式改成 `taskName (errorType)`

## [2.0.9] - 2018-06-12

* 优化前端显示异常退出码

## [2.0.8] - 2018-06-12

* BUGFIX taskLevelNotify-outtimeTask 告警传递类型时 type写成了tyep 导致跳过了更新数据库中对应任务的告警时间，导致一直发送告警

## [2.0.3] - 2018-06-11

* 显示异常日志按钮
* 手动调用处，应该先将状态`taskStatus`置为0，再触发`runTask`事件，异步回调时序不确定

## [2.0.0] - 2018-06-10

### 重构

* remove: 去除子进程调用时继承父进程的环境，任务环境的切换交给业务实现，而非通过调用时附加的 `NODE_ENV=production` 来指定环境
* add：继承事件系统
* add： 支持指定任务执行器&入口文件，即可支持多种语言脚本
* add: 将任务清理小助手提取出来放在`taskRootPath/clearTaskExecRecord`下作为一个定时任务
* 优化代码，加强异常流程处理
* 以构造函数的方式重构代码

## [1.0.1] - 2018-06-08

### 格式化

* 规范项目，引入eslint等

## [1.0.0] - 2018-06-03

### 新增

* 初始化项目
